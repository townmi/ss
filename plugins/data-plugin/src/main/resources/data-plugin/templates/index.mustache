<div class="page-header">
  <h1>📊 数据管理</h1>
  <p class="lead">通用的数据管理系统，支持动态创建和管理数据集合</p>
</div>

<div class="row">
  <div class="col-12">
    <div class="card mb-4">
      <div class="card-header">
        <h5 class="mb-0">欢迎使用数据管理插件</h5>
      </div>
      <div class="card-body">
        <p>这是一个通用的数据管理系统，您可以：</p>
        <ul class="list-check">
          <li>创建自定义数据集合</li>
          <li>执行 CRUD 操作</li>
          <li>批量导入导出数据</li>
          <li>支持多数据源配置</li>
        </ul>
      </div>
    </div>
  </div>
</div>

<div class="row">
  <div class="col-md-6">
    <div class="card">
      <div class="card-header">
        <h5 class="mb-0">快速访问数据集合</h5>
      </div>
      <div class="card-body">
        <div class="form-group">
          <label for="collectionName">集合名称：</label>
          <input type="text" id="collectionName" class="form-control" placeholder="例如：products, orders, customers">
        </div>
        <button class="btn btn-primary" onclick="goToCollection()">
          <i class="fas fa-database"></i> 访问集合
        </button>
      </div>
    </div>
  </div>
  
  <div class="col-md-6">
    <div class="card">
      <div class="card-header">
        <h5 class="mb-0">现有集合</h5>
      </div>
      <div class="card-body">
        {{#hasCollections}}
        <div class="list-group">
          {{#collections}}
          <a href="/data/collection/{{.}}" class="list-group-item list-group-item-action">
            <i class="fas fa-table"></i> {{.}}
          </a>
          {{/collections}}
        </div>
        {{/hasCollections}}
        {{^hasCollections}}
        <p class="text-muted mb-0">暂无数据集合</p>
        {{/hasCollections}}
      </div>
    </div>
  </div>
</div>

<div class="row mt-4">
  <div class="col-md-4">
    <div class="card h-100">
      <div class="card-body text-center">
        <div class="icon-box mb-3">
          <i class="fas fa-rocket fa-3x text-primary"></i>
        </div>
        <h5>高性能</h5>
        <p class="text-muted">基于 Vert.x 异步架构，支持高并发数据访问</p>
      </div>
    </div>
  </div>
  
  <div class="col-md-4">
    <div class="card h-100">
      <div class="card-body text-center">
        <div class="icon-box mb-3">
          <i class="fas fa-cogs fa-3x text-success"></i>
        </div>
        <h5>灵活配置</h5>
        <p class="text-muted">支持多种数据源，包括 MySQL、PostgreSQL 等</p>
      </div>
    </div>
  </div>
  
  <div class="col-md-4">
    <div class="card h-100">
      <div class="card-body text-center">
        <div class="icon-box mb-3">
          <i class="fas fa-shield-alt fa-3x text-warning"></i>
        </div>
        <h5>类型安全</h5>
        <p class="text-muted">提供类型安全的 Repository 接口，减少运行时错误</p>
      </div>
    </div>
  </div>
</div>

<script>
function goToCollection() {
  const collectionName = document.getElementById('collectionName').value.trim();
  if (collectionName) {
    window.location.href = '/page/data/collection/' + collectionName;
  } else {
    alert('请输入集合名称');
  }
}

// 支持回车键提交
document.getElementById('collectionName').addEventListener('keypress', function(e) {
  if (e.key === 'Enter') {
    goToCollection();
  }
});
</script> 